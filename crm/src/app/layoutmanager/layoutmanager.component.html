<div class="jumbotron jumbotron-fluid">
  <div class="container">
    <h1 style="padding-right: 20px;" class="display-4">
      Add CR Layout
    </h1>
    <p class="lead">
      Select how many fields you want in your layout.
    </p>
    <p></p>
  </div>
</div>

<form [formGroup]="dynamicForm" (ngSubmit)="onSubmit()">
  <div class="card m-3">
    <h5 class="card-header"></h5>
    <div class="card-body">
      <div class="form-row">
        <div class="form-group">
          <label>Number of fields</label>
          <select
            formControlName="numberOfTickets"
            class="form-control"
            (change)="onChangeTickets($event)"
            [ngClass]="{ 'is-invalid': submitted && f.numberOfTickets.errors }"
          >
            <option value=""></option>
            <option *ngFor="let i of [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]">{{
              i
            }}</option>
          </select>
          <div
            *ngIf="submitted && f.numberOfTickets.errors"
            class="invalid-feedback"
          >
            <div *ngIf="f.numberOfTickets.errors.required">
              Number of fields is required
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      *ngFor="let ticket of t.controls; let i = index"
      class="list-group list-group-flush"
    >
      <div class="list-group-item">
        <h5 class="card-title">Field {{ i + 1 }}</h5>
        <div [formGroup]="ticket" class="form-row">
          <div class="form-group col-3">
            <label>input type</label>
            <select
              type="text"
              formControlName="type"
              class="form-control"
              [ngClass]="{
                'is-invalid': submitted && ticket.controls.key.errors
              }"
            >
              <option *ngFor="let o of options" [ngValue]="o">{{ o }}</option>
            </select>
            <div
              *ngIf="submitted && ticket.controls.key.errors"
              class="invalid-feedback"
            >
              <div *ngIf="ticket.controls.key.errors.required">
                key is required
              </div>
            </div>
          </div>
          <div class="form-group col-3">
            <label>key</label>
            <input type="" 
            formControlName="key" 
            
            class="form-control"
            [value] = "ticket.controls.key.value"
            />
          </div>
          <div formGroupName="templateOptions">
            <div class="col-sm-8">
              <label>Label</label>
              <input
                type="text"
                placeholder="enter the field label"
                formControlName="label"
                class="form-control"
                required
              />
            </div>
            <div class="col-sm-8">
              <label>Placeholder</label>
              <input
                type="text"
                placeholder="enter the placeholder of your field"
                formControlName="placeholder"
                class="form-control"
                required
              />
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="card-footer text-center">
      <button class="btn btn-primary mr-1">Add Layout</button>
      <button class="btn btn-secondary mr-1" type="reset" (click)="onReset()">
        Reset
      </button>
      <button class="btn btn-secondary" type="button" (click)="onClear()">
        Clear
      </button>
    </div>
  </div>
</form>

<!-- credits -->
<div class="text-center">
  <p>
    
  </p>
  <p>
  </p>
</div>
